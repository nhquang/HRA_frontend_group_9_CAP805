{"remainingRequest":"C:\\Users\\Akash\\Desktop\\College\\2nd Semester\\CAP 805 Capstone Project\\HRA_frontend_group_9_CAP805\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Akash\\Desktop\\College\\2nd Semester\\CAP 805 Capstone Project\\HRA_frontend_group_9_CAP805\\src\\components\\branch\\add.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Akash\\Desktop\\College\\2nd Semester\\CAP 805 Capstone Project\\HRA_frontend_group_9_CAP805\\src\\components\\branch\\add.vue","mtime":1628681336275},{"path":"C:\\Users\\Akash\\Desktop\\College\\2nd Semester\\CAP 805 Capstone Project\\HRA_frontend_group_9_CAP805\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Akash\\Desktop\\College\\2nd Semester\\CAP 805 Capstone Project\\HRA_frontend_group_9_CAP805\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IGZvcm1WYWxpZGF0aW9uIH0gZnJvbSAnQC9oZWxwZXIvZm9ybV92YWxpZGF0aW9uJzsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW2Zvcm1WYWxpZGF0aW9uXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmFtZTogJycsIHN0cmVldEFkZHJlc3M6ICcnLCBjaXR5OiAnJywgcHJvdmluY2U6ICcnLCBjb3VudHJ5OiAnJywgZGVzY3JpcHRpb246ICcnLAogICAgfQogIH0sCiAgdmFsaWRhdG9yczogewogICAgbmFtZSh2YWx1ZSkgeyByZXR1cm4gdGhpcy52YWxpZGF0b3IudmFsdWUodmFsdWUpLnJlcXVpcmVkKHRoaXMucmVxdWlyZWQoJ05hbWUnKSk7IH0sCiAgICBzdHJlZXRBZGRyZXNzKHZhbHVlKSB7IHJldHVybiB0aGlzLnZhbGlkYXRvci52YWx1ZSh2YWx1ZSkucmVxdWlyZWQodGhpcy5yZXF1aXJlZCgnU3RyZWV0IEFkZHJlc3MnKSk7IH0sCiAgICBjaXR5KHZhbHVlKSB7IHJldHVybiB0aGlzLnZhbGlkYXRvci52YWx1ZSh2YWx1ZSkucmVxdWlyZWQodGhpcy5yZXF1aXJlZCgnQ2l0eScpKTsgfSwKICAgIHByb3ZpbmNlKHZhbHVlKSB7IHJldHVybiB0aGlzLnZhbGlkYXRvci52YWx1ZSh2YWx1ZSkucmVxdWlyZWQodGhpcy5yZXF1aXJlZCgnUHJvdmluY2UnKSk7IH0sCiAgICBjb3VudHJ5KHZhbHVlKSB7IHJldHVybiB0aGlzLnZhbGlkYXRvci52YWx1ZSh2YWx1ZSkucmVxdWlyZWQodGhpcy5yZXF1aXJlZCgnQ291bnRyeScpKTsgfSwKICB9LCAKICBtZXRob2RzOiB7CiAgICBiYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2JyYW5jaCcpOwogICAgfSwKICAgIGFzeW5jIHNhdmUoKSB7CiAgICAgIHRoaXMucmVzZXRGb3JtRXJyb3IoKTsKICAgICAgdmFyIGNvbmZpcm0gPSBhd2FpdCB0aGlzLiRjb25maXJtKCdBcmUgeW91IHN1cmUgdG8gc2F2ZT8nKTsKICAgICAgaWYoY29uZmlybSkgeyAKICAgICAgICB0aGlzLiR2YWxpZGF0ZSgpOwogICAgICAgIGlmKHRoaXMudmFsaWRhdGlvbi5lcnJvcnMubGVuZ3RoID09IDApIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsIHN0cmVldEFkZHJlc3M6IHRoaXMuc3RyZWV0QWRkcmVzcywgY2l0eTogdGhpcy5jaXR5LCBwcm92aW5jZTogdGhpcy5wcm92aW5jZSwgY291bnRyeTogdGhpcy5jb3VudHJ5LCBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KHRoaXMuJHN0b3JlLnN0YXRlLmFwaVVybCsnL2JyYW5jaGVzL2FkZF9icmFuY2gnLCBkYXRhLCB7CiAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJysgdGhpcy4kY29va2llcy5nZXQoJ190X2hybScpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYocmVzcG9uc2UuaGFzT3duUHJvcGVydHkoJ2RhdGEnKSkgeyAKICAgICAgICAgICAgICB0aGlzLm5hbWUgPSAnJzsgdGhpcy5zdHJlZXRBZGRyZXNzID0gJyc7IHRoaXMuY2l0eSA9ICcnOyB0aGlzLnByb3ZpbmNlID0gJyc7IHRoaXMuY291bnRyeSA9ICcnOyB0aGlzLmRlc2NyaXB0aW9uID0gJyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgICAgY2F0Y2goZXJyb3IpIHsKICAgICAgICAgICAgdGhpcy4kZXJyb3JIYW5kbGluZyhlcnJvcik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgdGhpcy50b29sdGlwRXJyb3IoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add.vue","sourceRoot":"src/components/branch","sourcesContent":["<template>\n  <div class=\"sm-page\">\n    <div class=\"sm-page-nav\">\n      <div class=\"row\">\n        <div class=\"col-6 px-2 my-auto\">\n          <p>Add Branch</p>\n        </div>\n        <div class=\"col-6 d-flex justify-content-end\">\n          <button class=\"btn\" @click=\"back()\">\n            <i class=\"fa fa-chevron-left\"></i>\n            <span>Back</span>\n          </button>\n        </div>\n      </div>\n    </div>\n    <div class=\"sm-page-body\">     \n      <div class=\"col-lg-6 col-xl-4 col-md-6 col-sm-12 p-0\">\n        <div class=\"row sm-page-block\">\n          <div class=\"col-12 mb-2 px-2\">\n            <label class=\"req\">Branch Name</label>\n            <input type=\"text\" id=\"name\" v-model=\"name\"/>\n          </div>   \n          <div class=\"col-12 mb-2 px-2\">\n            <label class=\"req\">Street Address</label>\n            <textarea  cols=\"30\" rows=\"2\" id=\"streetAddress\" v-model=\"streetAddress\"></textarea>          \n          </div>       \n          <div class=\"col-12 mb-2 px-2\">\n            <label class=\"req\">City</label>\n            <input type=\"text\" id=\"city\" v-model=\"city\"/>\n          </div>\n          <div class=\"col-12 mb-2 px-2\">\n            <label class=\"req\">Province</label>\n            <input type=\"text\" id=\"province\" v-model=\"province\"/>\n          </div>\n          <div class=\"col-12 mb-2 px-2\">\n            <label class=\"req\">Country</label>\n            <input type=\"text\" id=\"country\" v-model=\"country\"/>\n          </div>\n          <div class=\"col-12 mb-2 px-2\">\n            <label>Description</label>\n            <textarea  cols=\"30\" rows=\"5\" id=\"description\" v-model=\"description\"></textarea>          \n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"sm-page-footer\">\n      <div class=\"row\">\n        <div class=\"col-12  my-auto\">                  \n          <button class=\"btn save-btn\" @click=\"save()\">\n            <i class=\"fa fa-check\"></i>\n            <span>Save</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from 'axios';\nimport { formValidation } from '@/helper/form_validation';\nexport default {\n  mixins: [formValidation],\n  data() {\n    return {\n      name: '', streetAddress: '', city: '', province: '', country: '', description: '',\n    }\n  },\n  validators: {\n    name(value) { return this.validator.value(value).required(this.required('Name')); },\n    streetAddress(value) { return this.validator.value(value).required(this.required('Street Address')); },\n    city(value) { return this.validator.value(value).required(this.required('City')); },\n    province(value) { return this.validator.value(value).required(this.required('Province')); },\n    country(value) { return this.validator.value(value).required(this.required('Country')); },\n  }, \n  methods: {\n    back() {\n      this.$router.push('/branch');\n    },\n    async save() {\n      this.resetFormError();\n      var confirm = await this.$confirm('Are you sure to save?');\n      if(confirm) { \n        this.$validate();\n        if(this.validation.errors.length == 0) {\n          try {\n            this.$store.state.loading = true;\n            var data = {\n              name: this.name, streetAddress: this.streetAddress, city: this.city, province: this.province, country: this.country, description: this.description,\n            }\n            var response = await axios.post(this.$store.state.apiUrl+'/branches/add_branch', data, {\n               headers: {\n                Authorization: 'Bearer '+ this.$cookies.get('_t_hrm')\n              }\n            });\n            if(response.hasOwnProperty('data')) { \n              this.name = ''; this.streetAddress = ''; this.city = ''; this.province = ''; this.country = ''; this.description = '';\n            }\n            this.$store.state.loading = false;\n          }\n          catch(error) {\n            this.$errorHandling(error);\n          }\n        }\n        else {\n          this.tooltipError();\n        }\n      }\n    }\n  }\n}\n</script>\n"]}]}